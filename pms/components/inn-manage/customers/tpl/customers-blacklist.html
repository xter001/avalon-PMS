<div ms-controller="vm_blackList">
    <div class="c-content-title">
        客栈可把接待过的劣质客人加入到黑名单进行共享，当有客栈在为被加入过黑名单的客人办理订单时，系统会进行提醒。
    </div>
    <div class="finance-nav-head">
        <h1 style="top: 10px;">我的黑名单一共有<a class="u-stand-out">{{blacklistBase.myListNum}}</a>条记录，公共黑名单一共有<a class="u-stand-out">{{blacklistBase.allListNum}}</a>条记录
        </h1>
        <div class="f-right">
            <button class="btn btn-add-grav" ms-click="openAddBlackDialog()"><i>+</i>新增黑名单</button>
        </div>
    </div>
    <table class="table table-hover table-bordered">
        <thead>
        <tr>
            <th>姓名</th>
            <th>手机号</th>
            <th>身份证</th>
            <th>备注内容</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody>
        <tr ms-repeat-el="blacklistBase.blackLists" ms-if="blacklistBase.blackLists.length">
            <td>{{el.name}}</td>
            <td>{{el.contact}}</td>
            <td>{{el.cardNo}}</td>
            <td>{{el.remark}}</td>
            <td>
                <button class="btn btn-small" ms-click="openModifyDialog(el,$index)">编辑</button>
                <button class="btn btn-small" ms-click="openDelDialog($index)">删除</button>
            </td>
        </tr>
        <tr ms-if="!blacklistBase.blackLists.length">
            <td colspan="5">暂无黑名单记录！</td>
        </tr>
        </tbody>
    </table>
    <div id="blackList_page"></div>
    <!--新增黑名单-->
    <div class="tomasky-ui-popups" ms-visible="addDialogVisible">
        <div class="tomasky-ui-popups-backdrop"></div>
        <div class="ui-popups-dialog">
            <em class="close" data-dismiss="popups" ms-click="closeAddBlackDialog()">×</em>
            <div class="ui-popups-head">
                <h3 class="ui-popups-title">新增黑名单</h3>
            </div>
            <div class="ui-popups-body u-add-black">
                <div class="rows">
                    <label>姓　名：</label>
                    <input type="text" ms-duplex="addDatas.name">
                </div>
                <div class="rows">
                    <label>手机号：</label>
                    <input type="text" ms-duplex="addDatas.contact">
                </div>
                <div class="rows">
                    <label>身份证：</label>
                    <input type="text" ms-duplex="addDatas.cardNo">
                </div>
                <div class="rows">
                    <label>备　注：</label>
                    <textarea ms-duplex="addDatas.remark"></textarea>
                </div>
                
            </div>
            <div class="ui-popups-foot">
                <button class="u-big-btn" ms-click="ajaxToAdd()">确定</button>
                <p class="u-send-hint">{{addDatas.addHint}}</p>
            </div>
        </div>


    </div>
    <!--编辑-->
    <div class="tomasky-ui-popups" ms-visible="modifyDialogVisible">
        <div class="tomasky-ui-popups-backdrop"></div>
        <div class="ui-popups-dialog">
            <em class="close" data-dismiss="popups" ms-click="closeModifyDialog()">×</em>
            <div class="ui-popups-head">
                <h3 class="ui-popups-title">编辑黑名单</h3>
            </div>
            <div class="ui-popups-body u-add-black">
                <div class="rows">
                    <label>姓　名：</label>
                    <input type="text" ms-duplex="curModifyDatas.name">
                </div>
                <div class="rows">
                    <label>手机号：</label>
                    <input type="text" ms-duplex="curModifyDatas.contact">
                </div>
                <div class="rows">
                    <label>身份证：</label>
                    <input type="text" ms-duplex="curModifyDatas.cardNo">
                </div>
                <div class="rows">
                    <label>备　注：</label>
                    <textarea ms-duplex="curModifyDatas.remark"></textarea>
                </div>

            </div>
            <div class="ui-popups-foot">
                <button class="u-big-btn" ms-click="ajaxToModify()">确定</button>
                <p class="u-send-hint">{{curModifyDatas.modifyHint}}</p>
            </div>
        </div>
    </div>
    <!--删除-->
    <div class="tomasky-ui-popups" ms-visible="delDialogVisible">
        <div class="tomasky-ui-popups-backdrop"></div>
        <div class="ui-popups-dialog" style="width: 265px">
            <em class="close" data-dismiss="popups" ms-click="closeDelDialog()">×</em>
            <div class="ui-popups-head">
                <h3 class="ui-popups-title">新增黑名单</h3>
            </div>
            <div class="ui-popups-body">您确认要删除该条黑名单么？</div>
            <div class="ui-popups-foot">
                <button class="u-mid-btn" ms-click="delBlack()">删除</button>
                <button class="u-mid-btn" ms-click="closeDelDialog()">不删除</button>
                <p class="u-send-hint"></p>
            </div>
        </div>
    </div>

</div>